# Git Commit Rules

コミット作業を行う際の必須ルール。

## 事前チェック

1. **変更内容の確認**
   ```bash
   git status
   git diff
   ```

2. **関連性の確認**
   - 関連する変更のみを同じコミットに含める
   - 無関係な変更別コミットにする

## ファイル追加ルール

1. **個別指定必須**
   ```bash
   # ❌ 禁止
   git add .
   
   # ✅ 必須：個別指定
   git add specific_file1.gd specific_file2.tscn
   ```

2. **引数指定による対象限定**
   - コマンド引数でパスを指定された場合、そのパス配下のファイルのみを対象とする
   - 例：`/commit src/` → src/ディレクトリ配下のファイルのみ
   - 例：`/commit main.gd scenes/` → main.gdと、scenes/ディレクトリ配下のファイルのみ
   
   ```bash
   # パス指定例
   git status                    # 全体確認
   git add src/player.gd        # 指定パス配下のみ
   git add scenes/main.tscn     # 指定パス配下のみ  
   git diff --staged            # ステージング確認
   ```

3. **関連ファイルをまとめる**
   - 機能追加なら関連する全ファイルを同じコミットに
   - 削除なら古いファイル削除も同じコミットに含める
   - ただし引数でパスが指定された場合は、そのパス制限を優先する

## コミットメッセージ

### 必須要素
1. **簡潔な要約（1行目）**
2. **詳細説明（必要に応じて）**

### テンプレート
```
機能名の実装/修正

主な変更内容
- 変更点1
- 変更点2

影響
- 影響1
- 影響2
```

## コミット後作業

1. **TODO更新**
   - `TodoWrite`でタスクを完了済みに更新

## トラブルシューティング

- **コミット分割**：`git reset --soft HEAD~1`で取り消し後、再分割
- **メッセージ修正**：`git commit --amend`
- **ファイル追加忘れ**：`git add file && git commit --amend --no-edit`

